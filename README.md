# ISS Profile Mini App

–ú–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è Telegram –±–æ—Ç–∞, –æ—Ç–æ–±—Ä–∞–∂–∞—é—â–µ–µ –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ISS.

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –ù–∞ Render.com (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. **–°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç** –Ω–∞ [render.com](https://render.com)

2. **–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª—ã** –Ω–∞ GitHub:
   - `app.py` (Flask —Å–µ—Ä–≤–µ—Ä)
   - `index.html` (–≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞)
   - `points.html` (—Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—á–∫–æ–≤)
   - `settings.html` (—Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫)
   - `styles.css`
   - `src/iss.svg` (–ª–æ–≥–æ—Ç–∏–ø ISS)
   - `src/points.svg` (–∏–∫–æ–Ω–∫–∞ –æ—á–∫–æ–≤)
   - `requirements.txt`
   - `runtime.txt`
   - `Procfile` (–¥–ª—è production deployment)
   - `users_data.json` (–¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)

3. **–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π Web Service**:
   - –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub
   - **Environment**: Python 3
   - **Build Command**: `pip install -r requirements.txt`
   - **Start Command**: `gunicorn app:app` (–∏–ª–∏ –æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º, –µ—Å–ª–∏ –µ—Å—Ç—å Procfile)

4. **–ü–æ–ª—É—á–∏—Ç–µ URL** —Ç–∏–ø–∞: `https://your-app.onrender.com`

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–æ—Ç–æ–º

–î–æ–±–∞–≤—å—Ç–µ –≤ –∫–æ–¥ –±–æ—Ç–∞ –∫–Ω–æ–ø–∫—É –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

```python
from telegram import InlineKeyboardButton, WebAppInfo

keyboard = [[InlineKeyboardButton(
    "üë§ –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å", 
    web_app=WebAppInfo(url="https://your-app.onrender.com")
)]]
```

## üì± –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–º–µ–Ω–∏ –∏ username –∏–∑ –ø—Ä–æ—Ñ–∏–ª—è ISS
- ‚úÖ –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ª–æ–≥–æ—Ç–∏–ø ISS
- ‚úÖ –ë–ª–æ–∫ —Å –æ—á–∫–∞–º–∏ (Points) - –∑–∞–≥–ª—É—à–∫–∞ –¥–ª—è –±—É–¥—É—â–∏—Ö –Ω–æ–≤–æ–≤–≤–µ–¥–µ–Ω–∏–π
- ‚úÖ –ë–ª–æ–∫ —Å –ø–æ–≥–æ–¥–æ–π –∏–∑ –º–æ–¥—É–ª—è Arc Weather
- ‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è "–û–±–æ –º–Ω–µ" (–≥–æ—Ä–æ–¥, –¥–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏)
- ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Telegram –∏ ISS
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "–ü–æ–¥–µ–ª–∏—Ç—å—Å—è –ø—Ä–æ—Ñ–∏–ª–µ–º"
- ‚úÖ **–ù–∏–∂–Ω–µ–µ –º–µ–Ω—é –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ —Å –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏ –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã**
- ‚úÖ **–û—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ Points (/points)**
- ‚úÖ **–û—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (/settings)**
- ‚úÖ –ß–∏—Å—Ç—ã–π —á–µ—Ä–Ω—ã–π –¥–∏–∑–∞–π–Ω
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã Telegram

## üé® –î–∏–∑–∞–π–Ω

- –ß–∏—Å—Ç—ã–π —á–µ—Ä–Ω—ã–π —Ñ–æ–Ω –±–µ–∑ –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–≤
- –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π SVG –ª–æ–≥–æ—Ç–∏–ø ISS
- –ë–æ–ª—å—à–æ–π —Ç–æ–Ω–∫–∏–π —à—Ä–∏—Ñ—Ç –¥–ª—è –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –û—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- –ü–æ–ª–Ω–æ—à–∏—Ä–∏–Ω–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è
- –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è
- –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

## üîß –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

Mini App –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ Telegram Web App API –∏ –¥–æ–ø–æ–ª–Ω—è–µ—Ç –∏—Ö —á–µ—Ä–µ–∑ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π API –±–æ—Ç–∞.

### API Endpoints

- `GET /api/user-profile?user_id={telegram_user_id}` - –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `GET /api/weather` - –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–≥–æ–¥–µ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–æ–¥—É–ª—å Arc Weather)
- `GET /api/user-settings?user_id={telegram_user_id}` - –ø–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `POST /api/user-settings` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `GET /api/debug` - –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (–¥–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

**–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
```json
{
  "name": "–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",
  "username": "username",
  "city": "–ú–æ—Å–∫–≤–∞",
  "registration_date": "2024-01-15T10:30:00Z"
}
```

**–ü–æ–≥–æ–¥–∞:**
```json
{
  "city": "–ú–æ—Å–∫–≤–∞",
  "temperature": 12,
  "condition": "–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–±–ª–∞—á–Ω–æ—Å—Ç—å",
  "feels_like": 10
}
```

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
```json
{
  "streaming_enabled": true,
  "updates_enabled": true,
  "changes_enabled": true,
  "promo_enabled": true
}
```

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º—ã —Å –¥–∞–Ω–Ω—ã–º–∏ –ø—Ä–æ—Ñ–∏–ª—è
–ï—Å–ª–∏ Mini App –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∏–º—è –∏ username:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ç–ª–∞–¥–∫—É**: –û—Ç–∫—Ä–æ–π—Ç–µ `https://your-app.onrender.com/api/debug` –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏**: –í –∫–æ–Ω—Å–æ–ª–∏ Render.com –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ API –∑–∞–ø—Ä–æ—Å–æ–≤
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ user_id**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ user_id –∏–∑ Telegram —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –∫–ª—é—á–∞–º–∏ –≤ `users_data.json`
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `users_data.json` –∑–∞–≥—Ä—É–∂–µ–Ω –Ω–∞ Render.com

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–æ—Ä—Ç–∞–º–∏ –Ω–∞ Render.com
–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ "No open ports detected":
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–ª—É—à–∞–µ—Ç –Ω–∞ `0.0.0.0`
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `PORT` –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è –ø–æ—Ä—Ç–∞
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Gunicorn –≤–º–µ—Å—Ç–æ Flask development —Å–µ—Ä–≤–µ—Ä–∞

### Development vs Production
- **Development**: `python app.py` (—Ç–æ–ª—å–∫–æ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
- **Production**: `gunicorn app:app` (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è Render.com)

### CORS –æ—à–∏–±–∫–∏
–ï—Å–ª–∏ Mini App –Ω–µ –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ:
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `flask-cors` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ API endpoint –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ CORS headers

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- HTTPS —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è Telegram Mini Apps)
- –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π CSS Grid –∏ Flexbox
- Telegram Web App API
